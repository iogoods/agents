{"version":3,"sources":["../src/index.ts","../src/actions/sn34.ts","../src/evaluators/fact.ts","../src/providers/time.ts","../src/actions/index.ts","../src/evaluators/index.ts","../src/providers/index.ts"],"sourcesContent":["import type { Plugin } from \"@elizaos/core\";\r\nimport { TwitterClientInterface } from \"@elizaos/client-twitter\";\r\n\r\nimport { analyzeImage, analysisHistory } from \"./actions/sn34.ts\";\r\nimport { factEvaluator } from \"./evaluators/fact.ts\";\r\nimport { timeProvider } from \"./providers/time.ts\";\r\n\r\nexport * as actions from \"./actions/index.ts\";\r\nexport * as evaluators from \"./evaluators/index.ts\";\r\nexport * as providers from \"./providers/index.ts\";\r\n\r\n\r\nexport const bittensorPlugin: Plugin = {\r\n    name: \"bittensor\",\r\n    description: \"Utilize the BitMind API to access a range of digital commodities, including inference, media generation, and deepfake detection, on Bittensor's decentralized AI network.\",\r\n    actions: [\r\n        analyzeImage,\r\n        analysisHistory\r\n    ],\r\n    evaluators: [factEvaluator],\r\n    providers: [timeProvider],\r\n    clients: [TwitterClientInterface]\r\n};\r\nexport default bittensorPlugin;","import {\r\n    ActionExample,\r\n    IAgentRuntime,\r\n    Memory,\r\n    State,\r\n    HandlerCallback,\r\n    type Action,\r\n} from \"@elizaos/core\";\r\nimport { elizaLogger } from \"@elizaos/core\";\r\n\r\ninterface AIImageDetectionResult {\r\n    isAIGenerated: boolean;\r\n    confidenceScore: number;\r\n}\r\n\r\ninterface AIImageAnalysisMemory extends Memory {\r\n    content: {\r\n        text: string;\r\n        imageUrl: string;\r\n        isAIGenerated: boolean;\r\n        confidenceScore: number;\r\n        imageSource: 'tweet' | 'url';\r\n        actionType: string;\r\n    };\r\n}\r\n\r\nexport const formatAnalysisHistory = (analyses: AIImageAnalysisMemory[]) => {\r\n    const analysisStrings = analyses\r\n        .reverse()\r\n        .map((analysis: AIImageAnalysisMemory) => {\r\n            const { isAIGenerated, confidenceScore } = analysis.content;\r\n            const scorePercentage = Number(confidenceScore);\r\n            return `Image Analysis: ${isAIGenerated ? 'AI Generated' : 'Natural'} (${(scorePercentage * 100).toFixed(2)}% confidence)`;\r\n        });\r\n    return analysisStrings.join(\"\\n\");\r\n};\r\n\r\nconst validateAnalysisRequest = async (runtime: IAgentRuntime, message: Memory): Promise<boolean> => {\r\n    elizaLogger.info(\"🔍 BitMind: Validating analysis request...\");\r\n    \r\n    const urlMatch = message?.content?.text?.match(/https?:\\/\\/[^\\s]+/);\r\n    const imageUrls = message?.content?.imageUrls as string[] | undefined;\r\n\r\n    if (!urlMatch && (!imageUrls || imageUrls.length === 0)) {\r\n        elizaLogger.error(\"❌ BitMind: No image URL found in request\");\r\n        return false;\r\n    }\r\n\r\n    if (!runtime?.character?.settings?.secrets?.BITMIND) {\r\n        elizaLogger.error(\"❌ BitMind: API credentials not configured\");\r\n        return false;\r\n    }\r\n\r\n    elizaLogger.info(\"✅ BitMind: Request validation successful\");\r\n    return true;\r\n};\r\n\r\nconst extractImageUrl = (message: Memory): { url: string; isTweet: boolean } => {\r\n    const urlMatch = message.content.text.match(/https?:\\/\\/[^\\s]+/);\r\n    const imageUrls = message.content.imageUrls as string[] | undefined;\r\n    const isTweet = Boolean(imageUrls && imageUrls.length > 0);\r\n\r\n    if (isTweet && imageUrls) {\r\n        return { url: imageUrls[0], isTweet };\r\n    } \r\n    if (urlMatch) {\r\n        return { url: urlMatch[0], isTweet };\r\n    }\r\n    throw new Error(\"No valid image URL found in request\");\r\n};\r\n\r\nconst analyzeImageWithBitMind = async (imageUrl: string, apiKey: string): Promise<AIImageDetectionResult> => {\r\n    try {\r\n        const response = await fetch(\"https://subnet-api.bitmindlabs.ai/detect-image\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": `Bearer ${apiKey}`,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ image: imageUrl })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const errorMessage = `BitMind API error (${response.status}): ${response.statusText}`;\r\n            elizaLogger.error(`❌ ${errorMessage}`);\r\n            if (response.status === 500) {\r\n                throw new Error(\"BitMind service is currently experiencing issues. Please try again later.\");\r\n            }\r\n            throw new Error(errorMessage);\r\n        }\r\n\r\n        const result = await response.json();\r\n        return {\r\n            isAIGenerated: result.isAI,\r\n            confidenceScore: result.confidence\r\n        };\r\n    } catch (error) {\r\n        if (error.message.includes('BitMind service')) {\r\n            throw error; // Re-throw our custom error\r\n        }\r\n        elizaLogger.error('❌ BitMind API request failed:', error);\r\n        throw new Error('Failed to connect to BitMind service. Please check your connection and try again.');\r\n    }\r\n};\r\n\r\nconst generateAnalysisReport = (result: AIImageDetectionResult): string => {\r\n    const confidencePercent = (result.confidenceScore * 100).toFixed(2);\r\n    const confidenceValue = parseFloat(confidencePercent);\r\n    \r\n    return `🔍 Trinity Matrix Deepfake Analysis\r\nPowered by BitMind Subnet (SN34) on Bittensor\r\n\r\n${result.isAIGenerated ? '🤖 AI Generated' : '📸 Natural Image'}\r\n${confidencePercent}% AI Influence Rating\r\n${confidenceValue > 75 \r\n    ? \"⚠️ High synthetic probability detected. Approach with caution.\" \r\n    : confidenceValue > 40 \r\n        ? \"⚡ Moderate AI patterns present. Verification recommended.\" \r\n        : \"✅ Low synthetic markers. Likely authentic content.\"}\r\n\r\n—————————————————`;\r\n};\r\n\r\nexport const analyzeImage: Action = {\r\n    name: \"DETECT_IMAGE\",\r\n    similes: [\"ANALYZE_IMAGE\", \"VERIFY_IMAGE\", \"BITMIND_DETECTION\", \"AI_DETECTION\", \"REAL_OR_FAKE\"],\r\n    validate: validateAnalysisRequest,\r\n    description: \"Analyze an image to determine if it was AI-generated using BitMind API\",\r\n    handler: async (\r\n        runtime: IAgentRuntime,\r\n        message: Memory,\r\n        state: State,\r\n        options: any,\r\n        callback: HandlerCallback\r\n    ): Promise<void> => {\r\n        if (state['isAnalysisInProgress']) return;\r\n        state['isAnalysisInProgress'] = true;\r\n\r\n        elizaLogger.info(\"🤖 BitMind: Initiating image analysis...\");\r\n        \r\n        if (!runtime.character?.settings?.secrets?.BITMIND) {\r\n            throw new Error(\"BitMind API credentials not configured\");\r\n        }\r\n\r\n        try {\r\n            const { url: imageUrl, isTweet } = extractImageUrl(message);\r\n            elizaLogger.info(`📸 BitMind: Processing image: ${imageUrl}`);\r\n\r\n            const result = await analyzeImageWithBitMind(imageUrl, runtime.character.settings.secrets.BITMIND);\r\n\r\n            elizaLogger.info(`✅ BitMind: Analysis complete`, {\r\n                isAIGenerated: result.isAIGenerated,\r\n                confidenceScore: result.confidenceScore,\r\n                source: isTweet ? 'tweet' : 'message'\r\n            });\r\n\r\n            const analysisMemory: AIImageAnalysisMemory = {\r\n                ...message,\r\n                content: {\r\n                    text: `Image Analysis: ${result.isAIGenerated ? 'AI Generated' : 'Natural'} (${(result.confidenceScore * 100).toFixed(2)}% confidence)`,\r\n                    imageUrl: imageUrl,\r\n                    isAIGenerated: result.isAIGenerated,\r\n                    confidenceScore: result.confidenceScore,\r\n                    imageSource: isTweet ? 'tweet' : 'url',\r\n                    actionType: \"DETECT_IMAGE\"\r\n                },\r\n                createdAt: Date.now(),\r\n            };\r\n\r\n            elizaLogger.info(\"Saving analysis memory:\", {\r\n                roomId: message.roomId,\r\n                analysisMemory\r\n            });\r\n\r\n            await runtime.messageManager.createMemory(analysisMemory);\r\n            \r\n            elizaLogger.info(\"Analysis memory saved\");\r\n\r\n            callback({\r\n                text: generateAnalysisReport(result),\r\n                isAIGenerated: result.isAIGenerated,\r\n                confidenceScore: result.confidenceScore\r\n            });\r\n\r\n        } catch (error) {\r\n            elizaLogger.error(`❌ BitMind: Analysis error:`, error);\r\n            throw new Error(`Image analysis failed: ${error.message}`);\r\n        }\r\n    },\r\n    examples: [\r\n        [\r\n            {\r\n                user: \"{{user1}}\",\r\n                content: { text: \"analyze this image: https://example.com/image.jpg\" }\r\n            },\r\n            {\r\n                user: \"{{agentName}}\",\r\n                content: {\r\n                    text: \"I'll analyze that image for you...\",\r\n                    action: \"DETECT_IMAGE\"\r\n                }\r\n            }\r\n        ],\r\n        [\r\n            {\r\n                user: \"{{user1}}\",\r\n                content: { text: \"is this image AI generated?\" }\r\n            },\r\n            {\r\n                user: \"{{agentName}}\",\r\n                content: {\r\n                    text: \"Let me check if that image is AI generated...\",\r\n                    action: \"DETECT_IMAGE\"\r\n                }\r\n            }\r\n        ]\r\n    ] as ActionExample[][],\r\n} as Action;\r\n\r\nconst generateConfidenceBar = (confidence: number): string => {\r\n    const barLength = 20;\r\n    const filledBars = Math.round(confidence * barLength);\r\n    const emptyBars = barLength - filledBars;\r\n    return `[${'█'.repeat(filledBars)}${'░'.repeat(emptyBars)}]`;\r\n};\r\n\r\nexport const analysisHistory: Action = {\r\n    name: \"IMAGE_REPORT\",\r\n    similes: [\"SHOW_DETECTIONS\", \"IMAGE_HISTORY\", \"PAST_ANALYSES\", \"DETECTION_HISTORY\"],\r\n    validate: async (runtime: IAgentRuntime): Promise<boolean> => {\r\n        return true;\r\n    },\r\n    description: \"Display history of AI image analysis results\",\r\n    handler: async (\r\n        runtime: IAgentRuntime,\r\n        message: Memory,\r\n        state: State,\r\n        options: any,\r\n        callback: HandlerCallback\r\n    ): Promise<void> => {\r\n        elizaLogger.info(\"📊 BitMind: Generating analysis history...\");\r\n        try {\r\n            const limit = options?.limit || 10;\r\n        \r\n            // Get all rooms the agent is in\r\n            const rooms = await runtime.databaseAdapter.getRoomsForParticipant(runtime.agentId);\r\n            elizaLogger.info(`📊 BitMind: Found ${rooms.length} rooms`);\r\n    \r\n            // Get memories from each room and combine them\r\n            const allMemories = await runtime.messageManager.getMemoriesByRoomIds({\r\n                roomIds: rooms,\r\n                limit: limit * 5\r\n            }) as AIImageAnalysisMemory[];\r\n    \r\n            elizaLogger.info(`📊 BitMind: Retrieved ${allMemories.length} memories`);\r\n    \r\n            const imageAnalyses = allMemories.filter(\r\n                mem => mem.content.actionType === 'DETECT_IMAGE'\r\n            );\r\n\r\n            elizaLogger.info(`📊 BitMind: Found ${imageAnalyses.length} image analyses`);\r\n\r\n            if (!imageAnalyses || imageAnalyses.length === 0) {\r\n                callback({\r\n                    text: \"No image analyses found.\",\r\n                });\r\n                return;\r\n            }\r\n            const statistics = imageAnalyses.reduce((acc, analysis) => {\r\n                acc.total++;\r\n                if (analysis.content.isAIGenerated) acc.aiCount++;\r\n                acc.avgConfidence += analysis.content.confidenceScore;\r\n                return acc;\r\n            }, { total: 0, aiCount: 0, avgConfidence: 0 });\r\n\r\n            const reportText = `🔍 Trinity Matrix Analysis Report\r\n━━━━━━━━━━━━━━━━━━━━━━━━━━━\r\n\r\n📊 Recent Analyses (${imageAnalyses.length})\r\n${formatAnalysisHistory(imageAnalyses)}\r\n\r\n📈 Statistical Overview\r\n┌─────────────────────────────────┐\r\n│ 🔍 Total Analyzed : ${statistics.total.toString().padEnd(12)} │\r\n│ 🤖 AI Generated  : ${statistics.aiCount.toString().padEnd(12)} │\r\n│ 📸 Natural       : ${(statistics.total - statistics.aiCount).toString().padEnd(12)} │\r\n│ ⚡ AI Detection Rate: ${((statistics.aiCount / statistics.total) * 100).toFixed(1)}%      │\r\n└─────────────────────────────────┘\r\n\r\n🎯 Confidence Metrics\r\nAverage Confidence: ${((statistics.avgConfidence / statistics.total) * 100).toFixed(1)}%\r\n${generateConfidenceBar(statistics.avgConfidence / statistics.total)}\r\n\r\nPowered by BitMind Subnet (SN34) on Bittensor`;\r\n\r\n            callback({ text: reportText });\r\n\r\n        } catch (error) {\r\n            elizaLogger.error(`❌ BitMind: History generation error:`, error);\r\n            throw new Error(`Failed to generate analysis history: ${error.message}`);\r\n        }\r\n    },\r\n    examples: [\r\n        [\r\n            {\r\n                user: \"{{user1}}\",\r\n                content: { text: \"show me recent image analyses\" }\r\n            },\r\n            {\r\n                user: \"{{agentName}}\",\r\n                content: {\r\n                    text: \"Here's your image analysis report...\",\r\n                    action: \"IMAGE_REPORT\"\r\n                }\r\n            }\r\n        ],\r\n        [\r\n            {\r\n                user: \"{{user1}}\",\r\n                content: { text: \"what images have you checked recently?\" }\r\n            },\r\n            {\r\n                user: \"{{agentName}}\",\r\n                content: {\r\n                    text: \"Let me show you the recent image detection history...\",\r\n                    action: \"IMAGE_REPORT\"\r\n                }\r\n            }\r\n        ]\r\n    ] as ActionExample[][],\r\n} as Action;","import { composeContext } from \"@elizaos/core\";\r\nimport { generateObjectArray } from \"@elizaos/core\";\r\nimport { MemoryManager } from \"@elizaos/core\";\r\nimport {\r\n    type ActionExample,\r\n    type IAgentRuntime,\r\n    type Memory,\r\n    ModelClass,\r\n    type Evaluator,\r\n} from \"@elizaos/core\";\r\n\r\nexport const formatFacts = (facts: Memory[]) => {\r\n    const messageStrings = facts\r\n        .reverse()\r\n        .map((fact: Memory) => fact.content.text);\r\n    const finalMessageStrings = messageStrings.join(\"\\n\");\r\n    return finalMessageStrings;\r\n};\r\n\r\nconst factsTemplate =\r\n    // {{actors}}\r\n    `TASK: Extract Claims from the conversation as an array of claims in JSON format.\r\n\r\n# START OF EXAMPLES\r\nThese are an examples of the expected output of this task:\r\n{{evaluationExamples}}\r\n# END OF EXAMPLES\r\n\r\n# INSTRUCTIONS\r\n\r\nExtract any claims from the conversation that are not already present in the list of known facts above:\r\n- Try not to include already-known facts. If you think a fact is already known, but you're not sure, respond with already_known: true.\r\n- If the fact is already in the user's description, set in_bio to true\r\n- If we've already extracted this fact, set already_known to true\r\n- Set the claim type to 'status', 'fact' or 'opinion'\r\n- For true facts about the world or the character that do not change, set the claim type to 'fact'\r\n- For facts that are true but change over time, set the claim type to 'status'\r\n- For non-facts, set the type to 'opinion'\r\n- 'opinion' inlcudes non-factual opinions and also includes the character's thoughts, feelings, judgments or recommendations\r\n- Include any factual detail, including where the user lives, works, or goes to school, what they do for a living, their hobbies, and any other relevant information\r\n\r\nRecent Messages:\r\n{{recentMessages}}\r\n\r\nResponse should be a JSON object array inside a JSON markdown block. Correct response format:\r\n\\`\\`\\`json\r\n[\r\n  {\"claim\": string, \"type\": enum<fact|opinion|status>, in_bio: boolean, already_known: boolean },\r\n  {\"claim\": string, \"type\": enum<fact|opinion|status>, in_bio: boolean, already_known: boolean },\r\n  ...\r\n]\r\n\\`\\`\\``;\r\n\r\nasync function handler(runtime: IAgentRuntime, message: Memory) {\r\n    const state = await runtime.composeState(message);\r\n\r\n    const { agentId, roomId } = state;\r\n\r\n    const context = composeContext({\r\n        state,\r\n        template: runtime.character.templates?.factsTemplate || factsTemplate,\r\n    });\r\n\r\n    const facts = await generateObjectArray({\r\n        runtime,\r\n        context,\r\n        modelClass: ModelClass.LARGE,\r\n    });\r\n\r\n    const factsManager = new MemoryManager({\r\n        runtime,\r\n        tableName: \"facts\",\r\n    });\r\n\r\n    if (!facts) {\r\n        return [];\r\n    }\r\n\r\n    // If the fact is known or corrupted, remove it\r\n    const filteredFacts = facts\r\n        .filter((fact) => {\r\n            return (\r\n                !fact.already_known &&\r\n                fact.type === \"fact\" &&\r\n                !fact.in_bio &&\r\n                fact.claim &&\r\n                fact.claim.trim() !== \"\"\r\n            );\r\n        })\r\n        .map((fact) => fact.claim);\r\n\r\n    if (!agentId) {\r\n        return filteredFacts;\r\n    }\r\n\r\n    for (const fact of filteredFacts) {\r\n        const factMemory = await factsManager.addEmbeddingToMemory({\r\n            userId: agentId,\r\n            agentId,\r\n            content: { text: fact },\r\n            roomId,\r\n            createdAt: Date.now(),\r\n        });\r\n\r\n        await factsManager.createMemory(factMemory, true);\r\n\r\n        await new Promise((resolve) => setTimeout(resolve, 250));\r\n    }\r\n    return filteredFacts;\r\n}\r\n\r\nexport const factEvaluator: Evaluator = {\r\n    name: \"GET_FACTS\",\r\n    similes: [\r\n        \"GET_CLAIMS\",\r\n        \"EXTRACT_CLAIMS\",\r\n        \"EXTRACT_FACTS\",\r\n        \"EXTRACT_CLAIM\",\r\n        \"EXTRACT_INFORMATION\",\r\n    ],\r\n    validate: async (\r\n        runtime: IAgentRuntime,\r\n\r\n        message: Memory\r\n    ): Promise<boolean> => {\r\n        const messageCount = (await runtime.messageManager.countMemories(\r\n            message.roomId\r\n        )) as number;\r\n\r\n        const reflectionCount = Math.ceil(runtime.getConversationLength() / 2);\r\n\r\n        return messageCount % reflectionCount === 0;\r\n    },\r\n    description:\r\n        \"Extract factual information about the people in the conversation, the current events in the world, and anything else that might be important to remember.\",\r\n    handler,\r\n    examples: [\r\n        {\r\n            context: `Actors in the scene:\r\n{{user1}}: Programmer and moderator of the local story club.\r\n{{user2}}: New member of the club. Likes to write and read.\r\n\r\nFacts about the actors:\r\nNone`,\r\n            messages: [\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: { text: \"So where are you from\" },\r\n                },\r\n                {\r\n                    user: \"{{user2}}\",\r\n                    content: { text: \"I'm from the city\" },\r\n                },\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: { text: \"Which city?\" },\r\n                },\r\n                {\r\n                    user: \"{{user2}}\",\r\n                    content: { text: \"Oakland\" },\r\n                },\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: {\r\n                        text: \"Oh, I've never been there, but I know it's in California\",\r\n                    },\r\n                },\r\n            ] as ActionExample[],\r\n            outcome: `{ \"claim\": \"{{user2}} is from Oakland\", \"type\": \"fact\", \"in_bio\": false, \"already_known\": false },`,\r\n        },\r\n        {\r\n            context: `Actors in the scene:\r\n{{user1}}: Athelete and cyclist. Worked out every day for a year to prepare for a marathon.\r\n{{user2}}: Likes to go to the beach and shop.\r\n\r\nFacts about the actors:\r\n{{user1}} and {{user2}} are talking about the marathon\r\n{{user1}} and {{user2}} have just started dating`,\r\n            messages: [\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: {\r\n                        text: \"I finally completed the marathon this year!\",\r\n                    },\r\n                },\r\n                {\r\n                    user: \"{{user2}}\",\r\n                    content: { text: \"Wow! How long did it take?\" },\r\n                },\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: { text: \"A little over three hours.\" },\r\n                },\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: { text: \"I'm so proud of myself.\" },\r\n                },\r\n            ] as ActionExample[],\r\n            outcome: `Claims:\r\njson\\`\\`\\`\r\n[\r\n  { \"claim\": \"Alex just completed a marathon in just under 4 hours.\", \"type\": \"fact\", \"in_bio\": false, \"already_known\": false },\r\n  { \"claim\": \"Alex worked out 2 hours a day at the gym for a year.\", \"type\": \"fact\", \"in_bio\": true, \"already_known\": false },\r\n  { \"claim\": \"Alex is really proud of himself.\", \"type\": \"opinion\", \"in_bio\": false, \"already_known\": false }\r\n]\r\n\\`\\`\\`\r\n`,\r\n        },\r\n        {\r\n            context: `Actors in the scene:\r\n{{user1}}: Likes to play poker and go to the park. Friends with Eva.\r\n{{user2}}: Also likes to play poker. Likes to write and read.\r\n\r\nFacts about the actors:\r\nMike and Eva won a regional poker tournament about six months ago\r\nMike is married to Alex\r\nEva studied Philosophy before switching to Computer Science`,\r\n            messages: [\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: {\r\n                        text: \"Remember when we won the regional poker tournament last spring\",\r\n                    },\r\n                },\r\n                {\r\n                    user: \"{{user2}}\",\r\n                    content: {\r\n                        text: \"That was one of the best days of my life\",\r\n                    },\r\n                },\r\n                {\r\n                    user: \"{{user1}}\",\r\n                    content: {\r\n                        text: \"It really put our poker club on the map\",\r\n                    },\r\n                },\r\n            ] as ActionExample[],\r\n            outcome: `Claims:\r\njson\\`\\`\\`\r\n[\r\n  { \"claim\": \"Mike and Eva won the regional poker tournament last spring\", \"type\": \"fact\", \"in_bio\": false, \"already_known\": true },\r\n  { \"claim\": \"Winning the regional poker tournament put the poker club on the map\", \"type\": \"opinion\", \"in_bio\": false, \"already_known\": false }\r\n]\r\n\\`\\`\\``,\r\n        },\r\n    ],\r\n};\r\n","import type { IAgentRuntime, Memory, Provider, State } from \"@elizaos/core\";\r\n\r\nconst timeProvider: Provider = {\r\n    get: async (_runtime: IAgentRuntime, _message: Memory, _state?: State) => {\r\n        const currentDate = new Date();\r\n\r\n        // Get UTC time since bots will be communicating with users around the global\r\n        const options = {\r\n            timeZone: \"UTC\",\r\n            dateStyle: \"full\" as const,\r\n            timeStyle: \"long\" as const,\r\n        };\r\n        const humanReadable = new Intl.DateTimeFormat(\"en-US\", options).format(\r\n            currentDate\r\n        );\r\n        return `The current date and time is ${humanReadable}. Please use this as your reference for any time-based operations or responses.`;\r\n    },\r\n};\r\nexport { timeProvider };\r\n","export * from \"./sn34.ts\";","export * from \"./fact.ts\";","export * from \"./time.ts\";"],"mappings":"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","names":[]}